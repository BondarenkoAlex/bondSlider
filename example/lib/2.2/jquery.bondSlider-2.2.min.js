/*
 bondSlider Slider jQuery plugin
 Author: Bondarenko Aleksey
 Homepage: http://www.alexbond.ru
 */
!function(t){t.fn.bondSlider=function(e){var a={fd:{fast:"fast",normal:"normal",slow:"slow"},tpL:{h:"horizontal",v:"vertical"},tp:{opacity:"opacity",rotator:"rotator"},dr:{next:"next",prev:"prev"},typeBtn:{btn:"btn",navi:"navi",auto:"auto"},sp:{slow:600,fast:200,normal:400}},i={autoPlay:!0,autoPlayTime:7e3,autoPlaySuspend:!0,loop:!0,distance:null,activeFrame:0,sizeFrame:1,naviOverActive:!1,hideBtn:!1,hideBtnOpacity:0,hideBtnSpeed:a.fd.fast,speedOpacity:a.fd.slow,speedRotate:a.fd.slow,typeBtn:a.tp.rotator,typeThumb:a.tp.rotator,typeAutoPlay:a.tp.rotator,typeScroller:a.tpL.h,autoPlayDirect:a.dr.next,effBtn:"linear",effThumb:"linear",effAutoPlay:"linear",wrapFrames:"bondWrapFrames",frames:"bondFrames",frame:"bondFrame",navi:"bondNavi",thumb:"bondThumb",next:"bondNext",prev:"bondPrev",disableBtn:"disable",activeThumb:"activeThumb",callbackChangeActFrame:null,callbackClickFrame:null},n=t.extend(i,e);n.speedOpacity=a.sp[n.speedOpacity]||n.speedOpacity,n.speedRotate=a.sp[n.speedRotate]||n.speedRotate;{var l=this,o=l.find("."+n.next),s=l.find("."+n.prev),r=l.find("."+n.navi),p=r.find(" ."+n.thumb),c=l.find("."+n.wrapFrames),d=l.find("."+n.frames),u=l.find("."+n.frame),m={totalFrames:null,widthCont:null,autoPlayTimer:null,btnOpacity:{next:null,prev:null,navi:null}},f=function(t,e){null!=t&&(n.typeScroller==a.tpL.h?d.stop().animate({left:-t.left},n.speedRotate,e):n.typeScroller==a.tpL.v&&d.stop().animate({top:-t.top},n.speedRotate,e))},y=function(t){null!=t&&(n.typeScroller==a.tpL.h?(setTimeout(function(){d.stop().animate({opacity:0},n.speedOpacity)},0),setTimeout(function(){d.stop().css({left:-t.left})},n.speedOpacity),setTimeout(function(){d.stop().animate({opacity:1},n.speedOpacity)},n.speedOpacity)):n.typeScroller==a.tpL.v&&(setTimeout(function(){d.stop().animate({opacity:0},n.speedOpacity)},0),setTimeout(function(){d.stop().css({top:-t.top})},n.speedOpacity),setTimeout(function(){d.stop().animate({opacity:1},n.speedOpacity)},n.speedOpacity)))},v=function(e,i){function l(e,a){function i(t){n.loop||(null==m.totalFrames?(s.addClass(n.disableBtn),o.addClass(n.disableBtn)):0>=t?(s.addClass(n.disableBtn),o.removeClass(n.disableBtn)):t>=m.totalFrames-1?(o.addClass(n.disableBtn),s.removeClass(n.disableBtn)):t>0&&t<m.totalFrames-1&&(s.removeClass(n.disableBtn),o.removeClass(n.disableBtn)))}i(e),p.not(t(p.get(e))).removeClass(n.activeThumb),t(p.get(e)).addClass(n.activeThumb);var l=t(u.get(e*n.sizeFrame)).position();v(l,a)}function r(t,e){function i(t){null!=t&&(n.loop||(n.typeScroller==a.tpL.h?0==t.left&&d.outerWidth()==c.width()?(s.addClass(n.disableBtn),o.addClass(n.disableBtn)):t.left<=0?(s.addClass(n.disableBtn),o.removeClass(n.disableBtn)):t.left+c.width()>=d.outerWidth()?(o.addClass(n.disableBtn),s.removeClass(n.disableBtn)):t.left>=0&&t.left+c.width()<=d.outerWidth()&&(o.removeClass(n.disableBtn),s.removeClass(n.disableBtn)):n.typeScroller==a.tpL.v&&(0==t.top&&d.outerHeight()==c.height()?(s.addClass(n.disableBtn),o.addClass(n.disableBtn)):t.top<=0?(s.addClass(n.disableBtn),o.removeClass(n.disableBtn)):t.top+c.height()>=d.outerHeight()?(o.addClass(n.disableBtn),s.removeClass(n.disableBtn)):t.top>=0&&t.top+c.height()<=d.outerHeight()&&(s.removeClass(n.disableBtn),o.removeClass(n.disableBtn)))))}var l={};if(t==a.dr.next){if(n.typeScroller==a.tpL.h){var r=-d.css("left").replace("px","")+n.distance;l.left=n.loop&&-d.css("left").replace("px","")==d.outerWidth()-c.width()?0:Math.min(r,d.outerWidth()-c.width())}else if(n.typeScroller==a.tpL.v){var r=-d.css("top").replace("px","")+n.distance;l.top=n.loop&&-d.css("top").replace("px","")==d.outerHeight()-c.height()?0:Math.min(r,d.outerHeight()-c.height())}}else if(t==a.dr.prev)if(n.typeScroller==a.tpL.h){var r=-d.css("left").replace("px","")-n.distance;l.left=n.loop&&0==d.css("left").replace("px","")?d.outerWidth()-c.width():Math.max(r,0)}else if(n.typeScroller==a.tpL.v){var r=-d.css("top").replace("px","")-n.distance;l.top=n.loop&&0==d.css("top").replace("px","")?d.outerHeight()-c.height():Math.max(r,0)}i(l),v(l,e)}function v(t,e){if(null!=t)switch(e){case a.typeBtn.btn:n.typeBtn==a.tp.opacity?y(t):f(t,null==jQuery.easing[n.effBtn]?"linear":n.effBtn);break;case a.typeBtn.navi:n.typeThumb==a.tp.opacity?y(t):f(t,null==jQuery.easing[n.effThumb]?"linear":n.effThumb);break;case a.typeBtn.auto:n.typeAutoPlay==a.tp.opacity?y(t):f(t,null==jQuery.easing[n.effAutoPlay]?"linear":n.effAutoPlay)}}"number"==typeof e?l(e,i):"string"==typeof e&&r(e,i)};!function(){function e(){function e(e,i,l){for(var o=0,s=0;l>s;s++){var r=i*l+s;if(e.length-1<r)break;n.typeScroller==a.tpL.h?o+=t(e.get(r)).outerWidth():n.typeScroller==a.tpL.v&&(o+=t(e.get(r)).outerHeight())}return o}var i=0;totalFrames=Math.ceil(u.length/n.sizeFrame);for(var l=totalFrames-1;l>=0;l--)if(n.typeScroller==a.tpL.h){var o=e(u,l,n.sizeFrame);m.widthCont=m.widthCont+o,(m.widthCont<=c.width()||l==totalFrames-1)&&(m.totalFrames=l+1)}else n.typeScroller==a.tpL.v&&(i+=e(u,l,n.sizeFrame),(i<=c.height()||l==totalFrames-1)&&(m.totalFrames=l+1))}function i(){m.totalFrames<=1?(o.css({visibility:"hidden"}),s.css({visibility:"hidden"}),r.css({visibility:"hidden"})):p.each(function(e,a){e>m.totalFrames-1&&t(a).hide()})}d.css({position:"relative"}),c.css({position:"relative"}),c.css({overflow:"hidden"}),e(),i(),n.hideBtn&&(null!=o&&(m.btnOpacity.next=o.css("opacity"),o.css({opacity:n.hideBtnOpacity})),null!=s&&(m.btnOpacity.prev=s.css("opacity"),s.css({opacity:n.hideBtnOpacity})),null!=r&&(m.btnOpacity.navi=r.css("opacity"),r.css({opacity:n.hideBtnOpacity}))),n.typeScroller==a.tpL.h&&(u.css({"float":"left"}),d.width(m.widthCont),v(n.activeFrame)),n.typeScroller==a.tpL.v&&(u.css({"float":"none"}),v(n.activeFrame))}(),function(){function e(t){if(null!=n.distance)return void v(a.dr.next,a.typeBtn.btn);if(n.activeFrame++,n.activeFrame>=m.totalFrames&&(n.loop||m.autoPlayTimer))n.activeFrame=0;else if(n.activeFrame>=m.totalFrames&&!n.loop)return void n.activeFrame--;v(n.activeFrame,null==t?a.typeBtn.btn:t)}function i(t){if(null!=n.distance)return void v(a.dr.prev,a.typeBtn.btn);if(n.activeFrame--,n.activeFrame<0&&(n.loop||m.autoPlayTimer))n.activeFrame=m.totalFrames-1;else if(n.activeFrame<0&&!n.loop)return void n.activeFrame++;v(n.activeFrame,null==t?a.typeBtn.btn:t)}function d(){1==n.autoPlay&&(m.autoPlayTimer=setInterval(function(){n.autoPlayDirect==a.dr.prev?(i(a.typeBtn.auto),y("prev")):(e(a.typeBtn.auto),y("next"))},n.autoPlayTime))}function f(){clearInterval(m.autoPlayTimer),delete m.autoPlayTimer}function y(t){if(n.callbackChangeActFrame){var e=null==n.distance?n.activeFrame:null;n.callbackChangeActFrame(t,e)}}m.totalFrames<=1||(d(),null!=o&&o.click(function(){return f(),e(),y("next"),!1}),null!=s&&s.click(function(){return f(),i(),y("prev"),!1}),null!=p&&p.each(function(e,i){function l(){return f(),n.activeFrame=e,v(n.activeFrame,a.typeBtn.navi),y("navi"),!1}m.totalFrames<=e||(n.naviOverActive?t(i).mouseenter(l):t(i).click(l))}),n.hideBtn&&(l.mouseenter(function(){o.stop().animate({opacity:m.btnOpacity.next},n.hideBtnSpeed),s.stop().animate({opacity:m.btnOpacity.prev},n.hideBtnSpeed),r.stop().animate({opacity:m.btnOpacity.navi},n.hideBtnSpeed)}),l.mouseleave(function(){o.stop().animate({opacity:n.hideBtnOpacity},n.hideBtnSpeed),s.stop().animate({opacity:n.hideBtnOpacity},n.hideBtnSpeed),r.stop().animate({opacity:n.hideBtnOpacity},n.hideBtnSpeed)})),n.callbackClickFrame&&u.each(function(e,a){t(a).click(function(){n.callbackClickFrame(e)})}),n.autoPlaySuspend&&(c.mouseenter(function(){f()}),c.mouseleave(function(){d()})))}()}return this}}(jQuery);