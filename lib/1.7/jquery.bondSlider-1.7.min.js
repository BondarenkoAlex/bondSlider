/*
bondSlider Slider jQuery plugin
Author: Bondarenko Aleksey
Homepage: http://alex-bond.net
*/
(function(a){a.fn.bondSlider=function(b){var c={fd:{fast:"fast",normal:"normal",slow:"slow"},tpL:{h:"horizontal",v:"vertical"},tp:{opacity:"opacity",rotator:"rotator"},dr:{next:"next",prev:"prev"},typeBtn:{btn:"btn",navi:"navi",auto:"auto"},sp:{slow:600,fast:200,normal:400}};var d={autoPlay:true,autoPlayTime:7e3,autoPlaySuspend:true,loop:true,distance:null,activeFrame:0,sizeFrame:1,naviOverActive:false,hideBtn:false,hideBtnOpacity:0,hideBtnSpeed:c.fd.fast,speedOpacity:c.fd.slow,speedRotate:c.fd.slow,typeBtn:c.tp.rotator,typeThumb:c.tp.rotator,typeAutoPlay:c.tp.rotator,typeScroller:c.tpL.h,autoPlayDirect:c.dr.next,effBtn:"linear",effThumb:"linear",effAutoPlay:"linear",wrapFrames:"bondWrapFrames",frames:"bondFrames",frame:"bondFrame",navi:"bondNavi",thumb:"bondThumb",next:"bondNext",prev:"bondPrev",disableBtn:"disable",activeThumb:"activeThumb",callbackChangeActFrame:null,callbackClickFrame:null};var e=a.extend(d,b);e.speedOpacity=c.sp[e.speedOpacity]||e.speedOpacity;e.speedRotate=c.sp[e.speedRotate]||e.speedRotate;var f=this;var g=f.find("."+e.next);var h=f.find("."+e.prev);var i=f.find("."+e.navi);var j=i.find(" ."+e.thumb);var k=f.find("."+e.wrapFrames);var l=f.find("."+e.frames);var m=f.find("."+e.frame);var n={totalFrames:null,widthCont:null,autoPlayTimer:null,btnOpacity:{next:null,prev:null,navi:null}};var o=function(a,b){if(a==null)return;if(e.typeScroller==c.tpL.h)l.stop().animate({left:-a.left},e.speedRotate,b);else if(e.typeScroller==c.tpL.v)l.stop().animate({top:-a.top},e.speedRotate,b)};var p=function(a){if(a==null)return;if(e.typeScroller==c.tpL.h){setTimeout(function(){l.stop().animate({opacity:0},e.speedOpacity)},0);setTimeout(function(){l.stop().css({left:-a.left})},e.speedOpacity);setTimeout(function(){l.stop().animate({opacity:1},e.speedOpacity)},e.speedOpacity)}else if(e.typeScroller==c.tpL.v){setTimeout(function(){l.stop().animate({opacity:0},e.speedOpacity)},0);setTimeout(function(){l.stop().css({top:-a.top})},e.speedOpacity);setTimeout(function(){l.stop().animate({opacity:1},e.speedOpacity)},e.speedOpacity)}};var q=function(b,d){function f(b,c){function f(a){if(!e.loop){if(n.totalFrames==null){h.addClass(e.disableBtn);g.addClass(e.disableBtn)}else{if(a<=0){h.addClass(e.disableBtn);g.removeClass(e.disableBtn)}else if(a>=n.totalFrames-1){g.addClass(e.disableBtn);h.removeClass(e.disableBtn)}else if(a>0&&a<n.totalFrames-1){h.removeClass(e.disableBtn);g.removeClass(e.disableBtn)}}}}f(b);j.not(a(j.get(b))).removeClass(e.activeThumb);a(j.get(b)).addClass(e.activeThumb);var d=a(m.get(b*e.sizeFrame)).position();q(d,c)}function i(a,b){function i(a){if(a==null)return;if(!e.loop){if(e.typeScroller==c.tpL.h){if(a.left==0&&l.outerWidth()==k.width()){h.addClass(e.disableBtn);g.addClass(e.disableBtn)}else if(a.left<=0){h.addClass(e.disableBtn);g.removeClass(e.disableBtn)}else if(a.left+k.width()>=l.outerWidth()){g.addClass(e.disableBtn);h.removeClass(e.disableBtn)}else if(a.left>=0&&a.left+k.width()<=l.outerWidth()){g.removeClass(e.disableBtn);h.removeClass(e.disableBtn)}}else if(e.typeScroller==c.tpL.v){if(a.top==0&&l.outerHeight()==k.height()){h.addClass(e.disableBtn);g.addClass(e.disableBtn)}else if(a.top<=0){h.addClass(e.disableBtn);g.removeClass(e.disableBtn)}else if(a.top+k.height()>=l.outerHeight()){g.addClass(e.disableBtn);h.removeClass(e.disableBtn)}else if(a.top>=0&&a.top+k.height()<=l.outerHeight()){h.removeClass(e.disableBtn);g.removeClass(e.disableBtn)}}}}var d={};if(a==c.dr.next){if(e.typeScroller==c.tpL.h){var f=-l.css("left").replace("px","")+e.distance;if(e.loop){if(-l.css("left").replace("px","")==l.outerWidth()-k.width())d.left=0;else d.left=Math.min(f,l.outerWidth()-k.width())}else d.left=Math.min(f,l.outerWidth()-k.width())}else if(e.typeScroller==c.tpL.v){var f=-l.css("top").replace("px","")+e.distance;if(e.loop){if(-l.css("top").replace("px","")==l.outerHeight()-k.height())d.top=0;else d.top=Math.min(f,l.outerHeight()-k.height())}else d.top=Math.min(f,l.outerHeight()-k.height())}}else if(a==c.dr.prev){if(e.typeScroller==c.tpL.h){var f=-l.css("left").replace("px","")-e.distance;if(e.loop){if(l.css("left").replace("px","")==0)d.left=l.outerWidth()-k.width();else d.left=Math.max(f,0)}else d.left=Math.max(f,0)}else if(e.typeScroller==c.tpL.v){var f=-l.css("top").replace("px","")-e.distance;if(e.loop){if(l.css("top").replace("px","")==0)d.top=l.outerHeight()-k.height();else d.top=Math.max(f,0)}else d.top=Math.max(f,0)}}i(d);q(d,b)}function q(a,b){if(a==null)return;switch(b){case c.typeBtn.btn:if(e.typeBtn==c.tp.opacity)p(a);else o(a,jQuery.easing[e.effBtn]==null?"linear":e.effBtn);break;case c.typeBtn.navi:if(e.typeThumb==c.tp.opacity)p(a);else o(a,jQuery.easing[e.effThumb]==null?"linear":e.effThumb);break;case c.typeBtn.auto:if(e.typeAutoPlay==c.tp.opacity)p(a);else o(a,jQuery.easing[e.effAutoPlay]==null?"linear":e.effAutoPlay);break}}if(typeof b=="number")f(b,d);else if(typeof b=="string")i(b,d)};var r=function(){function b(){function i(b,d,f){var g=0;for(var h=0;h<f;h++){var i=d*f+h;if(b.length-1<i)break;if(e.typeScroller==c.tpL.h)g=g+a(b.get(i)).outerWidth();else if(e.typeScroller==c.tpL.v)g=g+a(b.get(i)).outerHeight()}return g}var b=0;n.totalFrames=Math.ceil(m.length/e.sizeFrame);var d=m.length%e.sizeFrame;for(var f=0,g=0;f<n.totalFrames;f++){if(e.typeScroller==c.tpL.h){var h=i(m,f,e.sizeFrame);n.widthCont=n.widthCont+h}}}function d(){j.each(function(b,c){if(b>n.totalFrames-1)a(c).hide()})}l.css({position:"relative"});k.css({position:"relative"});k.css({overflow:"hidden"});b();d();if(e.hideBtn){if(g!=null){n.btnOpacity.next=g.css("opacity");g.css({opacity:e.hideBtnOpacity})}if(h!=null){n.btnOpacity.prev=h.css("opacity");h.css({opacity:e.hideBtnOpacity})}if(i!=null){n.btnOpacity.navi=i.css("opacity");i.css({opacity:e.hideBtnOpacity})}}if(e.typeScroller==c.tpL.h){m.css({"float":"left"});l.width(n.widthCont);q(e.activeFrame)}if(e.typeScroller==c.tpL.v){m.css({"float":"none"});q(e.activeFrame)}}();var s=function(){function b(a){if(!(e.distance==null)){q(c.dr.next,c.typeBtn.btn);return}e.activeFrame++;if(e.activeFrame>=n.totalFrames&&(e.loop||n.autoPlayTimer))e.activeFrame=0;else if(e.activeFrame>=n.totalFrames&&!e.loop){e.activeFrame--;return}q(e.activeFrame,a==null?c.typeBtn.btn:a)}function d(a){if(!(e.distance==null)){q(c.dr.prev,c.typeBtn.btn);return}e.activeFrame--;if(e.activeFrame<0&&(e.loop||n.autoPlayTimer))e.activeFrame=n.totalFrames-1;else if(e.activeFrame<0&&!e.loop){e.activeFrame++;return}q(e.activeFrame,a==null?c.typeBtn.btn:a)}function l(){if(e.autoPlay==true){n.autoPlayTimer=setInterval(function(){if(e.autoPlayDirect==c.dr.prev){d(c.typeBtn.auto);p("prev")}else{b(c.typeBtn.auto);p("next")}},e.autoPlayTime)}}function o(){clearInterval(n.autoPlayTimer);delete n.autoPlayTimer}function p(a){if(e.callbackChangeActFrame){var b=e.distance==null?e.activeFrame:null;e.callbackChangeActFrame(a,b)}}l();if(g!=null){g.click(function(a){o();b();p("next");return false})}if(h!=null){h.click(function(a){o();d();p("prev");return false})}if(j!=null){j.each(function(b,d){function f(){o();e.activeFrame=b;q(e.activeFrame,c.typeBtn.navi);p("navi")}if(n.totalFrames<=b)return;if(e.naviOverActive){a(d).mouseenter(f)}else a(d).click(f)})}if(e.hideBtn){f.mouseenter(function(){g.stop().animate({opacity:n.btnOpacity.next},e.hideBtnSpeed);h.stop().animate({opacity:n.btnOpacity.prev},e.hideBtnSpeed);i.stop().animate({opacity:n.btnOpacity.navi},e.hideBtnSpeed)});f.mouseleave(function(){g.stop().animate({opacity:e.hideBtnOpacity},e.hideBtnSpeed);h.stop().animate({opacity:e.hideBtnOpacity},e.hideBtnSpeed);i.stop().animate({opacity:e.hideBtnOpacity},e.hideBtnSpeed)})}if(e.callbackClickFrame){m.each(function(b,c){a(c).click(function(a){e.callbackClickFrame(b)})})}if(e.autoPlaySuspend){k.mouseenter(function(){o()});k.mouseleave(function(){l()})}}();return this}})(jQuery)